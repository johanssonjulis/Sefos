@{
    ViewBag.Title = "Home Page";
}

<form id="messageForm">
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" required>
    </div>
    <div class="form-group">
        <label for="subject">Subject</label>
        <input type="text" class="form-control" id="subject" required>
    </div>
    <div class="form-group">
        <label for="message">Message</label>
        <textarea class="form-control" id="message" rows="3" required></textarea>
    </div>
    <button type="submit" class="btn btn-primary" id="sendButton">Send</button>
</form>

<script>
    document.getElementById('messageForm').addEventListener('submit', function (event) {
        event.preventDefault();
        var email = document.getElementById('email').value;
        var subject = document.getElementById('subject').value;
        var message = document.getElementById('message').value;
        fetch('https://localhost:5001/api/messages', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                email: email,
                subject: subject,
                message: message
            })
        });
    });
</script>